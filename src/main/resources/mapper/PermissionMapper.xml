<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ch.lesson.dao.PermissionMapper">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.ch.lesson.domain.Permission">
		<id column="Id" property="Id" />
		<result column="Name" property="Name" />
		<result column="Position" property="Position" />
		<result column="ParentId" property="ParentId" />
		<result column="Level" property="Level" />
		<result column="Router" property="Router" />
		<result column="CreateDate" property="CreateDate" />
		<result column="CreateBy" property="CreateBy" />
		<result column="ModifyDate" property="ModifyDate" />
		<result column="ModifyBy" property="ModifyBy" />
	</resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        Id, Name, Position, ParentId, Level, Router, CreateDate, CreateBy, ModifyDate, ModifyBy
    </sql>
	
	<select id="findMaxPositionByParentId" parameterType="int" resultType="int">
		select max(Position)
		from permission
		where ParentId=#{parentId};
	</select>

</mapper>
